<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../bower_components/paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="../bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">
<link rel="import" href="../bower_components/app-layout/app-drawer-layout/app-drawer-layout.html">
<link rel="import" href="../bower_components/app-layout/app-header/app-header.html">

<link rel="import" href="shared-styles.html">
<link rel="import" href="indumatics-styles.html">


<dom-module id="productos-view">2
  <template>
    <style include="shared-styles indumatics-styles">
      :host {
        display: block;
        padding: 10px;
      }
      paper-card{
          --paper-card-background-color:var(--indumatics-perfil-card-background);
          --paper-card-header-color:var(--indumatics-red);
          --paper-card:{
            margin: 5px:
            width:300px;
          }
          --paper-card-header:{
            padding-top:10px;
          }
          --paper-card-header-image-text:{
            top:0;       
            bottom:auto;     
            position: absolute;
            background-color:var(--indumatics-blue1);
            padding-top: 1px;
            padding-bottom: 1px;
            padding-left: 5px;
            padding-right: 5px;
            border-radius: 0 0 5px 0 ;
            opacity: 0.95;
          }
          --paper-card-content:{
            background-color:var(--indumatics-blue1);
            height: 150px;
            opacity: 0.95;
            bottom:0;
          }
          @apply(--paper-card);
          @apply(--paper-card-content);
      }
    </style>
<iron-ajax auto url="http://www.indumatics.com.ar/api/perfiles/index.php" handle-as="json" last-response="{{Perfiles}}"></iron-ajax>

<app-drawer-layout fullbleed has-scrolling-region narrow={{isNarrow}}>
  <app-header condenses reveals effects="waterfall">
    <paper-toolbar></paper-toolbar>
    <div class="content" style="padding:10px;">
      <template is="dom-repeat" items="{{Perfiles.result}}">
        <paper-card 
          heading="{{item.idPerfil}}" 
          image="{{_getImagen(item)}}" 
          elevation="1" 
          animated-shadow="true"
          fadeImage="true"
          preloadImage="true"
        >
          <div class="card-content">
              <strong>{{item.descripcion}}</strong><br>
              <p>
              <small>Largo: {{item.largo}} mm</small> <br>
              <small>Peso: {{item.pxm}} Kg/m</small><br>
              <small>Paquete: {{item.bxp}} barras</small>
            </p>
          </div>
          <!--<div class="card-actions"></div>-->
        </paper-card>
      </template>
    </div>
  </app-header>
</app-drawer-layout>
</template>

<script>
  Polymer({
    is: 'productos-view',
    properties: {

    },
    _isLinea: function (item) {
      console.log(item);
      return item.idLinea == 4;
    },
    _getImagen: function (perfil) {
      var vUrl = '/images/perfiles/300x185/' + perfil.idPerfil + '.png';
      return vUrl;
    }


  });
</script>
</dom-module>